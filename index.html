<!DOCTYPE html>
<html>
    <head>
        <title>Email Form</title>
    </head>
    <body>
        <h1>Email Form</h1>
        <form id="emailForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required /><br /><br />
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required /><br /><br />
            <label for="message">Message:</label><br />
            <textarea
                id="message"
                name="message"
                rows="5"
                cols="30"
                required
            ></textarea
            ><br /><br />
            <input type="submit" value="Send Email" />
        </form>

        <script>
            const form = document.getElementById("emailForm");
            form.addEventListener("submit", async (e) => {
                e.preventDefault();

                const name = document.getElementById("name").value;
                const email = document.getElementById("email").value;
                const message = document.getElementById("message").value;

                const data = {
                    name: name,
                    email: email,
                    message: message,
                };

                try {
                    const response = await fetch(
                        "http://localhost:3000/send-email",
                        {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify(data),
                        }
                    );

                    const result = await response.json();
                    alert(result.message);
                    form.reset();
                } catch (error) {
                    console.error("Error:", error);
                }
            });
        </script>
    </body>
</html>
